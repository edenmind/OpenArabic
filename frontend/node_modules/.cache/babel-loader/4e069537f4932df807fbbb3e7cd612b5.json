{"ast":null,"code":"import getOppositePlacement from \"../utils/getOppositePlacement.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getOppositeVariationPlacement from \"../utils/getOppositeVariationPlacement.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport computeAutoPlacement from \"../utils/computeAutoPlacement.js\";\nimport { bottom, top, start, right, left, auto } from \"../enums.js\";\nimport getVariation from \"../utils/getVariation.js\"; // eslint-disable-next-line import/no-unused-modules\n\nfunction getExpandedFallbackPlacements(placement) {\n  if (getBasePlacement(placement) === auto) {\n    return [];\n  }\n\n  var oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];\n}\n\nfunction flip(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n\n  if (state.modifiersData[name]._skip) {\n    return;\n  }\n\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,\n      specifiedFallbackPlacements = options.fallbackPlacements,\n      padding = options.padding,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      _options$flipVariatio = options.flipVariations,\n      flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,\n      allowedAutoPlacements = options.allowedAutoPlacements;\n  var preferredPlacement = state.options.placement;\n  var basePlacement = getBasePlacement(preferredPlacement);\n  var isBasePlacement = basePlacement === preferredPlacement;\n  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));\n  var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {\n    return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding,\n      flipVariations: flipVariations,\n      allowedAutoPlacements: allowedAutoPlacements\n    }) : placement);\n  }, []);\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var checksMap = new Map();\n  var makeFallbackChecks = true;\n  var firstFittingPlacement = placements[0];\n\n  for (var i = 0; i < placements.length; i++) {\n    var placement = placements[i];\n\n    var _basePlacement = getBasePlacement(placement);\n\n    var isStartVariation = getVariation(placement) === start;\n    var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;\n    var len = isVertical ? 'width' : 'height';\n    var overflow = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      altBoundary: altBoundary,\n      padding: padding\n    });\n    var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;\n\n    if (referenceRect[len] > popperRect[len]) {\n      mainVariationSide = getOppositePlacement(mainVariationSide);\n    }\n\n    var altVariationSide = getOppositePlacement(mainVariationSide);\n    var checks = [];\n\n    if (checkMainAxis) {\n      checks.push(overflow[_basePlacement] <= 0);\n    }\n\n    if (checkAltAxis) {\n      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);\n    }\n\n    if (checks.every(function (check) {\n      return check;\n    })) {\n      firstFittingPlacement = placement;\n      makeFallbackChecks = false;\n      break;\n    }\n\n    checksMap.set(placement, checks);\n  }\n\n  if (makeFallbackChecks) {\n    // `2` may be desired in some cases â€“ research later\n    var numberOfChecks = flipVariations ? 3 : 1;\n\n    var _loop = function _loop(_i) {\n      var fittingPlacement = placements.find(function (placement) {\n        var checks = checksMap.get(placement);\n\n        if (checks) {\n          return checks.slice(0, _i).every(function (check) {\n            return check;\n          });\n        }\n      });\n\n      if (fittingPlacement) {\n        firstFittingPlacement = fittingPlacement;\n        return \"break\";\n      }\n    };\n\n    for (var _i = numberOfChecks; _i > 0; _i--) {\n      var _ret = _loop(_i);\n\n      if (_ret === \"break\") break;\n    }\n  }\n\n  if (state.placement !== firstFittingPlacement) {\n    state.modifiersData[name]._skip = true;\n    state.placement = firstFittingPlacement;\n    state.reset = true;\n  }\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'flip',\n  enabled: true,\n  phase: 'main',\n  fn: flip,\n  requiresIfExists: ['offset'],\n  data: {\n    _skip: false\n  }\n};","map":{"version":3,"sources":["/Users/jonas/Documents/GitHub/OpenArabic/frontend/node_modules/@popperjs/core/lib/modifiers/flip.js"],"names":["getOppositePlacement","getBasePlacement","getOppositeVariationPlacement","detectOverflow","computeAutoPlacement","bottom","top","start","right","left","auto","getVariation","getExpandedFallbackPlacements","placement","oppositePlacement","flip","_ref","state","options","name","modifiersData","_skip","_options$mainAxis","mainAxis","checkMainAxis","_options$altAxis","altAxis","checkAltAxis","specifiedFallbackPlacements","fallbackPlacements","padding","boundary","rootBoundary","altBoundary","_options$flipVariatio","flipVariations","allowedAutoPlacements","preferredPlacement","basePlacement","isBasePlacement","placements","concat","reduce","acc","referenceRect","rects","reference","popperRect","popper","checksMap","Map","makeFallbackChecks","firstFittingPlacement","i","length","_basePlacement","isStartVariation","isVertical","indexOf","len","overflow","mainVariationSide","altVariationSide","checks","push","every","check","set","numberOfChecks","_loop","_i","fittingPlacement","find","get","slice","_ret","reset","enabled","phase","fn","requiresIfExists","data"],"mappings":"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","sourcesContent":["import getOppositePlacement from \"../utils/getOppositePlacement.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getOppositeVariationPlacement from \"../utils/getOppositeVariationPlacement.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport computeAutoPlacement from \"../utils/computeAutoPlacement.js\";\nimport { bottom, top, start, right, left, auto } from \"../enums.js\";\nimport getVariation from \"../utils/getVariation.js\"; // eslint-disable-next-line import/no-unused-modules\n\nfunction getExpandedFallbackPlacements(placement) {\n  if (getBasePlacement(placement) === auto) {\n    return [];\n  }\n\n  var oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];\n}\n\nfunction flip(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n\n  if (state.modifiersData[name]._skip) {\n    return;\n  }\n\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,\n      specifiedFallbackPlacements = options.fallbackPlacements,\n      padding = options.padding,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      _options$flipVariatio = options.flipVariations,\n      flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,\n      allowedAutoPlacements = options.allowedAutoPlacements;\n  var preferredPlacement = state.options.placement;\n  var basePlacement = getBasePlacement(preferredPlacement);\n  var isBasePlacement = basePlacement === preferredPlacement;\n  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));\n  var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {\n    return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding,\n      flipVariations: flipVariations,\n      allowedAutoPlacements: allowedAutoPlacements\n    }) : placement);\n  }, []);\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var checksMap = new Map();\n  var makeFallbackChecks = true;\n  var firstFittingPlacement = placements[0];\n\n  for (var i = 0; i < placements.length; i++) {\n    var placement = placements[i];\n\n    var _basePlacement = getBasePlacement(placement);\n\n    var isStartVariation = getVariation(placement) === start;\n    var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;\n    var len = isVertical ? 'width' : 'height';\n    var overflow = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      altBoundary: altBoundary,\n      padding: padding\n    });\n    var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;\n\n    if (referenceRect[len] > popperRect[len]) {\n      mainVariationSide = getOppositePlacement(mainVariationSide);\n    }\n\n    var altVariationSide = getOppositePlacement(mainVariationSide);\n    var checks = [];\n\n    if (checkMainAxis) {\n      checks.push(overflow[_basePlacement] <= 0);\n    }\n\n    if (checkAltAxis) {\n      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);\n    }\n\n    if (checks.every(function (check) {\n      return check;\n    })) {\n      firstFittingPlacement = placement;\n      makeFallbackChecks = false;\n      break;\n    }\n\n    checksMap.set(placement, checks);\n  }\n\n  if (makeFallbackChecks) {\n    // `2` may be desired in some cases â€“ research later\n    var numberOfChecks = flipVariations ? 3 : 1;\n\n    var _loop = function _loop(_i) {\n      var fittingPlacement = placements.find(function (placement) {\n        var checks = checksMap.get(placement);\n\n        if (checks) {\n          return checks.slice(0, _i).every(function (check) {\n            return check;\n          });\n        }\n      });\n\n      if (fittingPlacement) {\n        firstFittingPlacement = fittingPlacement;\n        return \"break\";\n      }\n    };\n\n    for (var _i = numberOfChecks; _i > 0; _i--) {\n      var _ret = _loop(_i);\n\n      if (_ret === \"break\") break;\n    }\n  }\n\n  if (state.placement !== firstFittingPlacement) {\n    state.modifiersData[name]._skip = true;\n    state.placement = firstFittingPlacement;\n    state.reset = true;\n  }\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'flip',\n  enabled: true,\n  phase: 'main',\n  fn: flip,\n  requiresIfExists: ['offset'],\n  data: {\n    _skip: false\n  }\n};"]},"metadata":{},"sourceType":"module"}